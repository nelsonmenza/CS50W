{% extends "auctions/layout.html" %}
{% load static %}


{% block body %}
    <h2>New listing</h2>
    {% if user.is_authenticated %}

        <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-group">
                {{ form.title.label_tag }}
                {{ form.title }}
            </div>
            <div class="form-group">
                {{ form.description.label_tag }}
                {{ form.description }}
            </div>
            <div class="form-group">
                {{ form.categories.label_tag }}
                {{ form.categories }}
            </div>
            <div class="form-group">
                {{ form.bid.label_tag }}
                {{ form.bid }}
            </div>
            <div class="form-group">
                {{ form.web_page.label_tag }}
                {{ form.web_page }}
            </div>
            <div class="form-group">
                {{ form.img.label_tag }}
                {{ form.img }}
            </div>
            <input class="btn btn-primary" type="submit" value="New listing">
        </form>
    {% else %}
        Don't have an account? <a href="{% url 'register' %}">Register here.</a>
    {% endif %}
        {% if form.errors %}
    <div class="alert alert-danger">
        <strong>Error:</strong> Please correct the following errors.
        <ul>
            {% for field, errors in form.errors.items %}
                <li>{{ field }}:
                    {% for error in errors %}{{ error }}{% if not forloop.last %}, {% endif %}{% endfor %}
                </li>
            {% endfor %}
        </ul>
    </div>
{% endif %}

{% endblock %}
